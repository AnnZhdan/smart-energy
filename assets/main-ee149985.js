(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();async function S(e,t,n){const o=`https://your-energy.b.goit.study/api/filters?filter=${e}&page=${t}&limit=${n}`;try{const s=await fetch(o);if(!s.ok)throw new Error(`Request failed with status ${s.status}`);return await s.json()}catch(s){return console.error("Error fetching data:",s),null}}async function B(e,t,n,o,s,r){try{const i=`https://your-energy.b.goit.study/api/exercises?category=${e}&muscles=${t}&equipment=${n}&keyword=${o}&page=${s}&limit=${r}`,d=await fetch(i);if(!d.ok)throw new Error(`Request failed with status ${d.status}`);const l=await d.json();if(!l.results||l.results.length===0){console.log("No results found for your search parameters.");return}l.results.forEach((a,m)=>{console.log(`Exercise #${m+1}:`),console.log(`Name: ${a.name}`),console.log(`Description: ${a.description}`),console.log(`GIF URL: ${a.gifUrl}`),console.log(`Burned Calories: ${a.burnedCalories}`),console.log(`Duration: ${a.duration} minutes`),console.log(`Rating: ${a.rating}`),console.log("-----------------------------------")})}catch(i){console.error(`Error: ${i.message}`)}}async function C(e){try{const t=`https://your-energy.b.goit.study/api/exercises/${e}`,n=await fetch(t);if(!n.ok)throw new Error(`Request failed with status ${n.status}`);const o=await n.json();if(!o.results||o.results.length===0){console.log("Exercise not found for the specified exerciseID.");return}const s=document.getElementById("exercise-details"),r=o.results[0];s.innerHTML=`
            <h2>${r.name}</h2>
            <p><strong>Body Part:</strong> ${r.bodyPart}</p>
            <p><strong>Equipment:</strong> ${r.equipment}</p>
            <p><strong>Target:</strong> ${r.target}</p>
            <p><strong>Description:</strong> ${r.description}</p>
            <p><strong>Burned Calories:</strong> ${r.burnedCalories}</p>
            <p><strong>Duration:</strong> ${r.time} minutes</p>
            <p><strong>Rating:</strong> ${r.rating}</p>
            <p><strong>Popularity:</strong> ${r.popularity}</p>
            <p><strong>GIF URL:</strong> <a href="${r.gifUrl}" target="_blank">View</a></p>
        `}catch(t){console.error(`Error: ${t.message}`)}}async function I(){try{const e=await fetch("https://your-energy.b.goit.study/api/quote");if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);const t=await e.json();if(t&&t.author&&t.quote)return console.log(`Quote of the day: "${t.quote}" - ${t.author}`),t;console.log("Failed to get the quote of the day.")}catch(e){console.error("Error while fetching the quote of the day:",e)}}S("Muscles",1,12).then(e=>{e&&console.log(e)});B("back","lats","barbell","pull",1,10);C("64f389465ae26083f39b17c2");(()=>{if(!document.querySelector("section.galary"))return;console.log("gggaaarrl");const t=document.querySelector(".galary-list"),n=document.querySelector(".galary-filters-button1"),o=document.querySelector(".galary-filters-button2"),s=document.querySelector(".galary-filters-button3"),r=document.querySelector(".pagination");let i="Body parts",d=n,l=r.children[0].firstElementChild;m(i,1),n.addEventListener("click",a),o.addEventListener("click",a),s.addEventListener("click",a);function a(g){g.preventDefault(),d.classList.remove("galary-filter-checked"),i=String(this.textContent),this.classList.add("galary-filter-checked"),m(i,1),d=this}function m(g,y){t.innerHTML="",S(g,y,12).then(f=>{if(console.log(f),f)switch(t.insertAdjacentHTML("beforeend",b(f.results)),f.totalPages){case 1:r.children[1].classList.add("is-hidden"),r.children[2].classList.add("is-hidden");break;case 2:r.children[1].classList.remove("is-hidden"),r.children[2].classList.add("is-hidden");break;case 3:r.children[1].classList.remove("is-hidden"),r.children[2].classList.remove("is-hidden");break;default:console.log("Something is wrong!")}});function b(f){return f.map(({filter:H,name:q,imgURL:w})=>`
           <li class="galary-item">
              <img
                src="${w}"
                alt="${q}"
                loading="lazy"
                class="galary-item-img"
              />
              <h3 class="galary-item-subtitle">"${g}"</h3>
              <p class="galery-item-text">"${q}"</p>
            </li> `).join("")}}r.children[0].addEventListener("click",u),r.children[1].addEventListener("click",u),r.children[2].addEventListener("click",u);function u(g){if(this.firstElementChild.classList!==l.classList){this.firstElementChild.classList.add("current-page"),l.classList.remove("current-page"),l=this.firstElementChild;let y=Number(l.textContent);console.log(y),m(i,y)}}})();const k=document.getElementById("closeModalButton"),P=document.getElementById("additionalButton2"),D=document.getElementById("closeModalButton2"),c=document.getElementById("myModal"),x=document.getElementById("myModal2");function M(e){c.style.display="block";const t=c.querySelector("img"),n=c.querySelector("h2"),o=c.querySelector(".text-modal"),s=c.querySelector(".burn-modal"),r=c.querySelector(".modal-rating"),i=c.querySelector(".modal-part"),d=c.querySelector(".modal-equipment"),l=c.querySelector(".modal-target"),a=c.querySelector(".modal-popularity");t.src=e.gifUrl,n.textContent=e.name.charAt(0).toUpperCase()+e.name.slice(1),o.textContent=e.description,s.textContent=`${e.burnedCalories}/${e.time} min`,i.textContent=e.bodyPart,d.textContent=e.equipment,l.textContent=e.target,a.textContent=e.popularity,r.textContent=e.rating}async function A(e){try{const t=await T(e);if(!t){console.error("Не вдалося отримати дані про вправу.");return}M(t)}catch(t){console.error(`Помилка: ${t.message}`)}}async function T(e){try{const t=await fetch(`https://your-energy.b.goit.study/api/exercises/${e}`);if(!t.ok)throw new Error("Помилка запиту до API");return await t.json()}catch(t){return console.error("Помилка при отриманні даних про вправу:",t),null}}const O=document.querySelectorAll(".exercise-item-button");O.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("id");A(t)})});k.addEventListener("click",()=>c.style.display="none");P.addEventListener("click",()=>{c.style.display="none",x.style.display="block"});D.addEventListener("click",()=>x.style.display="none");c.style.display="none";x.style.display="none";const $="quote",N=document.querySelector(".qoute-inside-container");async function R(){try{const e=await I();if(console.log("Server Response:",e),!e||!e.quote||!e.author)throw new Error("Invalid data received from the server");F(e),U(e)}catch(e){console.log(e.message)}}function F({quote:e,author:t}){N.innerHTML=`<div class="qoute-inside-container">
        <p class="quotes-day-text">${e}</p>
        <p class="quotes-day-author">${t}</p>
    </div>`}function U({quote:e,author:t}){const n={quote:e,author:t,date:new Date().getDate()};try{const o=JSON.stringify(n);localStorage.setItem($,o)}catch(o){console.log(o.message)}}async function j(){try{const e=localStorage.getItem($);if(e){let t=JSON.parse(e),n=new Date().getDate();t.date!==n&&await R()}}catch(e){console.log(e.message)}}j();const h=document.querySelectorAll(".rating-container label"),p=document.querySelectorAll(".rating-container label svg use");h.forEach((e,t)=>{e.addEventListener("click",n=>{for(let o=0;o<h.length;o++)o<=t?p[o].setAttribute("xlink:href","./img/icon-sprite.svg#icon-Star-2"):p[o].setAttribute("xlink:href","./img/icon-sprite.svg#icon-Star-1")}),e.addEventListener("focus",n=>{for(let o=0;o<=t;o++)p[o].setAttribute("xlink:href","./img/icon-sprite.svg#icon-Star-2");for(let o=t+1;o<h.length;o++)p[o].setAttribute("xlink:href","./img/icon-sprite.svg#icon-Star-1")}),e.addEventListener("blur",n=>{for(let o=0;o<h.length;o++)p[o].setAttribute("xlink:href","./img/icon-sprite.svg#icon-Star-1")})});const J=document.getElementById("selectedRat");h.forEach((e,t)=>{e.addEventListener("click",n=>{const o=(t+1).toFixed(1);J.textContent=o})});const L=document.getElementById("ratingForm");document.getElementById("submitRatingButton");L.addEventListener("submit",e=>{e.preventDefault();const t=new FormData(L);fetch("url",{method:"POST",body:t}).then(n=>n.json()).then(n=>{n.success?myModal2.style.display="none":alert(n.message)}).catch(n=>{console.error("Помилка:",n)})});let E,v;document.addEventListener("DOMContentLoaded",function(){E=document.getElementById("favoritesText"),v=document.getElementById("favoritesIcon");const e=document.getElementById("additionalButton1"),t=document.querySelector(".modal");e.addEventListener("click",()=>{const n=e.getAttribute("data-exercise-id"),o=document.querySelector(".title-modal").textContent,s=document.querySelector(".text-modal").textContent,r=t.querySelector(".burn-modal").textContent,i=t.querySelector(".modal-rating").textContent,d=t.querySelector(".modal-part").textContent,l=t.querySelector(".modal-equipment").textContent,a=t.querySelector(".modal-target").textContent,m=t.querySelector(".modal-popularity").textContent;let u=JSON.parse(localStorage.getItem("favoritesList"))||[];const g=u.findIndex(y=>y.exerciseID===n);g!==-1?(u.splice(g,1),localStorage.setItem("favoritesList",JSON.stringify(u)),alert("Exercise removed from favorites!")):(u.push({exerciseID:n,exerciseName:o,exerciseDescription:s,exerciseBurned:r,exercisePart:d,exerciseEquipment:l,exerciseTarget:a,exercisePopularity:m,exerciseRating:i}),localStorage.setItem("favoritesList",JSON.stringify(u)),alert("Exercise added to favorites!")),console.log("Exercise ID:",n),console.log("Exercise Name:",o),console.log("Exercise Description:",s),console.log("Favorites List:",u)}),additionalButton1.addEventListener("click",()=>{try{E&&(E.textContent="Add to favorites"),v&&v.setAttribute("xlink:href","./img/icon-sprite.svg#heart")}catch(n){console.error("Error while updating favorites:",n)}})});
